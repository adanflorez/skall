<div class="card card-custom">
    <div class="card-body">
        <div class="d-flex mb-2">
            <!--begin::Symbol-->
            <div class="mr-3 mt-2">
                <span class="symbol-label">
                    <img height="40" width="40" [src]="logo" class="align-self-end" alt="">
                </span>
            </div>
            <form class="example-form">
                <mat-form-field class="example-full-width">
                    <mat-label>Â¿Que quieres publicar?</mat-label>
                    <textarea matInput [formControl]="postForm.controls['post']"></textarea>
                </mat-form-field>
                <mat-form-field>
                    <mat-label>Clase</mat-label>
                    <mat-select [formControl]="postForm.controls['lessons']">
                        <mat-option *ngFor="let lesson of lessons" [value]="lesson.code">
                            {{ lesson.name }}
                        </mat-option>
                    </mat-select>
                    <!-- <mat-error *ngIf="postForm.controls['categoriesLesson'].invalid">
                        {{ getErrorMessage(classForm.controls['categoriesLesson']) }}
                    </mat-error> -->
                </mat-form-field>
                <div (click)="open(content)" style="cursor: pointer;" class="d-flex align-items-center">
                    <i class="far fa-image fa-2x mr-2 icon-success">
                    </i>
                    <span>Foto o Imagen</span>
                </div>
                <button class="float-right" mat-raised-button color="primary" (click)="createPost()"
                    [disabled]="!postForm.valid || postFormDisabled">Publicar</button>

            </form>
        </div>
    </div>
</div>
<div *ngFor="let lp of listPublication" class="card card-custom">
    <div class="card-body">
        <div class="d-flex align-items-center mb-4">
            <!--begin::Symbol-->
            <div class="mr-3">
                <span class="symbol-label">
                    <img height="40" width="40" [src]="lp.logo || 'assets/img/authentication/profile-user.png'"
                        class="h-75 align-self-end" alt="">
                </span>
            </div>
            <!--end::Symbol-->

            <!--begin::Text-->
            <div class="d-flex flex-column flex-grow-1 font-weight-bold">
                <a [routerLink]="['/profile', lp.parlorDetail.publicKey]"
                    class="text-dark text-hover-primary mb-1 font-size-lg">
                    {{ lp.parlorDetail.name }}
                </a>
                <span class="text-muted"> {{ lp.lessonName + " - " + lp.categoryLesson }} </span>
            </div>
            <!--end::Text-->

            <!--begin::Dropdown-->
            <div class="dropdown dropdown-inline ml-2" data-toggle="tooltip" title="" data-placement="left"
                data-original-title="Quick actions">
                <a href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fas fa-ellipsis-h"></i>
                </a>
            </div>
            <!--end::Dropdown-->
        </div>
        {{ lp.description }}
    </div>
    <img [src]="lp.img" class="img-content mb-2" alt="">
</div>


<ng-template #content let-modal>
    <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Cargar imagen</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <i class="fas fa-times"></i>
        </button>
    </div>
    <div class="modal-body">
        <h3>Choose File</h3>
        <div class="form-group">
            <input type="file" name="image" (change)="fileProgress($event)" />
        </div>
        <div *ngIf="fileUploadProgress">
            Upload progress: {{ fileUploadProgress }}
        </div>
        <div class="image-preview mb-3" *ngIf="previewUrl">
            <img [src]="previewUrl" />
        </div>

        <div class="mb-3" *ngIf="uploadedFilePath">
            {{uploadedFilePath}}
        </div>

        <div class="form-group">
            <button class="btn btn-primary" (click)="onSubmit()">Agregar</button>
        </div>
    </div>
</ng-template>